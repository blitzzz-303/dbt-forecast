{% macro create_stored_procedure()%}

{% if execute %}
    {{print('[DBT] - Creating Snowpark procedure')}}
    {% set store_procedure_txt = stored_procedure_gen() %}
    {% set results = run_query(store_procedure_txt) %}
    {% do results.print_table() %}
{% endif %}

{%- endmacro %}

{% macro stored_procedure_gen() -%}

sf_regis.txt

sf_lib.txt

sf_func.txt

snow_prophet.py

    $$

{%- endmacro %}